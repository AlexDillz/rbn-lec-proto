// ÐŸÑ€Ð¸Ð¼ÐµÐ½ÑÐµÐ¼ ÑÐ¾Ñ…Ñ€Ð°Ð½Ñ‘Ð½Ð½ÑƒÑŽ Ñ‚ÐµÐ¼Ñƒ ÑÑ€Ð°Ð·Ñƒ Ð¿Ð¾ÑÐ»Ðµ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸
function applySavedTheme() {
  const saved = localStorage.getItem('theme');
  if (saved === 'dark') document.body.classList.add('dark');
  else document.body.classList.remove('dark');
}

// ÐžÐ±Ð½Ð¾Ð²Ð»ÑÐµÐ¼ Ñ‚ÐµÐºÑÑ‚ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÐµ
function updateToggleLabel(btn) {
  if (!btn) return;
  const dark = document.body.classList.contains('dark');
  btn.textContent = dark ? 'â˜€ï¸ Light mode' : 'ðŸŒ™ Dark mode';
}

// Ð’ÐµÑˆÐ°ÐµÐ¼ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚Ñ‡Ð¸Ðº Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ
function initThemeToggle() {
  const btn = document.getElementById('theme-toggle');
  if (!btn) return;
  updateToggleLabel(btn);
  btn.addEventListener('click', () => {
    document.body.classList.toggle('dark');
    const dark = document.body.classList.contains('dark');
    localStorage.setItem('theme', dark ? 'dark' : 'light');
    updateToggleLabel(btn);
  });
}

// CÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð¼ÐµÐ¶Ð´Ñƒ Ð²ÐºÐ»Ð°Ð´ÐºÐ°Ð¼Ð¸
window.addEventListener('storage', (e) => {
  if (e.key === 'theme') {
    applySavedTheme();
    updateToggleLabel(document.getElementById('theme-toggle'));
  }
});

// Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ
document.addEventListener('DOMContentLoaded', () => {
  applySavedTheme();
  initThemeToggle();
});

